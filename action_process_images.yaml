---
version: 1

kind: experiment

environment:
  node_selector:
    aws/type: p3.2xlarge
  resources:
    gpu:
      requests: 1
      limits: 1

build:
  image: aireverie/pix-plot:latest

declarations:
  image_files: /mnt/clients/motorola/human/images/*.png
  clusters: 50
  output_folder: /mnt/users/patrick/pphuman
  layout: umap

run: 
  cmd: >
    python3.6 utils/process_images.py
      --clusters={{ clusters }}
      --output_folder={{ output_folder }}
      --layout={{ layout }}
      --image_files={{ image_files }}

